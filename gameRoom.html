<html>
    <head>
        <title>ex•qui•site•cor•pus</title>
        <link rel="stylesheet" href="styles.css"/>
        <link rel="preconnect" href="https://fonts.gstatic.com"> 
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    </head>
    <body class="flexRow" style="background-color: #8198ff">
        <div id="left" class="flexCol">
            <span class="subtitle">controls</span>
            <div id="vid-controls" class="flexRow">
                <div class="icon" id="video-mute">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                </div>
                <div class="icon" id="audio-mute">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" /></svg>
                </div>
            </div>
            <span class="subtitle">chat</span>
            <div class="flexRow" id="chatbox">
                <div id="chatcontent"></div>
            </div>
            <div class="flexRow" style="width: 90%; justify-content: space-between;">
                <input type="text" id="chat-input" placeholder="type here!" />
                <button type="submit" id="send" onclick="messageAll()">send</button>
            </div>
        </div>
        <div id="middle" class="flexCol">
            <span class="title" style="margin-top: 30px">ex•qui•site•cor•pus</span>
            <span class="subtitle" style="color: white; margin-top: 0px; margin-bottom: 0px;">channel: <span id="channel">_____</span></span>
            <button type="button" id="start" onclick="startGame()">start game</button>
            <div id="gamestuff" class="locked">
                <span class="subtitle" style="color: white; margin-top: 0px; margin-bottom: 0px;">round: <span id="roundnum">_</span> of 5</span>
                <span class="subtitle" style="color: white; margin-top: 0px; margin-bottom: 0px;">current player: <span id="currplayer">_____</span></span>
                <div id="notyourturn" class="locked" style="color: white; margin-top: 50px;">chat with everyone while you wait for your turn! :~)</div>
                <div id="currplayerstuff" class="flexCol">
                    <div id="last-word-box"><span class="desc"><span id="last-word">-----</span></span></div>
                    <textarea rows="5" id="passage" placeholder="type your masterpiece here!" onkeyup="countChar()"></textarea>
                    <div id="charCount">character count: <span id="charNum">0</span>/280</div>
                    <button type="button" id="done" onclick="nextPlayer()">done</button>
                </div>
            </div>
            <div id="story" class="locked" style="align-items: center;">
                <span class="subtitle" style="margin-top: 20px; margin-bottom: 10px;">your story:</span>
                <span id="storyText" class="desc" style="width: 80%; text-align: left; word-wrap: break-word;">
                    nothing yet!
                </span>
            </div>
        </div>
        <div id="right" class="flexCol">
            <span class="subtitle">players</span>
            <div id="otherVidsContainer">
                <div id="SelfStream"></div>
                <div class="playerLabel"><span id="you-label"></span> (you!)</div>
            </div>
        </div>
    </body>
    <script src="https://cdn.agora.io/sdk/release/AgoraRTCSDK-3.0.0.js"></script>
    <script src="agora-rtm-sdk-1.4.1.js"></script>
    <script src="http://code.jquery.com/jquery-1.5.js"></script>
    <script src="agoraRtc.js"></script>
    <script src="agoraMessaging.js"></script>
    <script src="game.js"></script>
    <script>
        window.addEventListener("beforeunload", function (e) {
            channel.logout();
            gameChannel.logout();
            client.leave(function(){
                console.log("Left!");
            },handlefail);
        });
    </script>
</html>